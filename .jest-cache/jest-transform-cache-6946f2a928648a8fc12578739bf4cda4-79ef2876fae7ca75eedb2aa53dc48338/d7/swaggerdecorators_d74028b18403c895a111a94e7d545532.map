{"file":"D:\\FPT\\SUMMER_2025\\EXE201\\mahika-website-backend\\src\\decorators\\swagger.decorators.ts","mappings":";;;AAAA,gFAAkF;AAClF,gFAAkF;AAClF,2CAA4D;AAC5D,6CAKyB;AAElB,MAAM,oBAAoB,GAAG,CAAsB,OAIzD,EAAmB,EAAE;IACpB,OAAO,IAAA,wBAAe,EACpB,IAAA,wBAAc,EACZ,OAAO,CAAC,cAAc,KAAK,QAAQ;QACjC,CAAC,CAAC,kCAAkB;QACpB,CAAC,CAAC,kCAAkB,EACtB,OAAO,CAAC,IAAI,CACb,EACD,IAAA,uBAAa,EAAC;QACZ,WAAW,EACT,OAAO,CAAC,WAAW,IAAI,qBAAqB,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE;QACjE,MAAM,EAAE;YACN,KAAK,EAAE,sBAAsB,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE;YAChD,KAAK,EAAE;gBACL;oBACE,IAAI,EAAE,IAAA,uBAAa,EACjB,OAAO,CAAC,cAAc,KAAK,QAAQ;wBACjC,CAAC,CAAC,kCAAkB;wBACpB,CAAC,CAAC,kCAAkB,CACvB;iBACF;gBACD;oBACE,UAAU,EAAE;wBACV,IAAI,EAAE;4BACJ,IAAI,EAAE,OAAO;4BACb,KAAK,EAAE,EAAE,IAAI,EAAE,IAAA,uBAAa,EAAC,OAAO,CAAC,IAAI,CAAC,EAAE;yBAC7C;qBACF;iBACF;aACF;SACF;KACgC,CAAC,CACrC,CAAC;AACJ,CAAC,CAAC;AArCW,QAAA,oBAAoB,wBAqC/B","names":[],"sources":["D:\\FPT\\SUMMER_2025\\EXE201\\mahika-website-backend\\src\\decorators\\swagger.decorators.ts"],"sourcesContent":["import { CursorPaginatedDto } from '@/common/dto/cursor-pagination/paginated.dto';\nimport { OffsetPaginatedDto } from '@/common/dto/offset-pagination/paginated.dto';\nimport { type Type, applyDecorators } from '@nestjs/common';\nimport {\n  ApiExtraModels,\n  ApiOkResponse,\n  type ApiResponseOptions,\n  getSchemaPath,\n} from '@nestjs/swagger';\n\nexport const ApiPaginatedResponse = <T extends Type<any>>(options: {\n  type: T;\n  description?: string;\n  paginationType?: 'offset' | 'cursor';\n}): MethodDecorator => {\n  return applyDecorators(\n    ApiExtraModels(\n      options.paginationType === 'offset'\n        ? OffsetPaginatedDto\n        : CursorPaginatedDto,\n      options.type,\n    ),\n    ApiOkResponse({\n      description:\n        options.description || `Paginated list of ${options.type.name}`,\n      schema: {\n        title: `PaginatedResponseOf${options.type.name}`,\n        allOf: [\n          {\n            $ref: getSchemaPath(\n              options.paginationType === 'offset'\n                ? OffsetPaginatedDto\n                : CursorPaginatedDto,\n            ),\n          },\n          {\n            properties: {\n              data: {\n                type: 'array',\n                items: { $ref: getSchemaPath(options.type) },\n              },\n            },\n          },\n        ],\n      },\n    } as ApiResponseOptions | undefined),\n  );\n};\n"],"version":3}