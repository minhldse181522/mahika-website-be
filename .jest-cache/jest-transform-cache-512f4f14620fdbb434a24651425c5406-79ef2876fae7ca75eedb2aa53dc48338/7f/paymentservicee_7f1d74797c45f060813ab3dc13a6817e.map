{"file":"E:\\FPTU\\SUMMER2025_FPT\\EXE201\\mahika-website-be\\src\\api\\payment\\payment.servicee.ts","mappings":";;;;AAAA,2CAA4C;AAC5C,6DAAyD;AAEzD,+DAAgC;AAGzB,IAAM,cAAc,GAApB,MAAM,cAAc;IAEN;IAAnB,YAAmB,WAA8B;QAA9B,gBAAW,GAAX,WAAW,CAAmB;IAAG,CAAC;IAErD,KAAK,CAAC,aAAa,CAAC,iBAAoC;QAEtD,gDAAgD;QAChD,MAAM,KAAK,GAAG,IAAI,cAAK,CAAC,WAAW,EAAE,SAAS,EAAC,cAAc,CAAC,CAAC;QAE/D,MAAM,UAAU,GAAG;YACjB,SAAS,EAAE,GAAG;YACd,MAAM,EAAE,iBAAiB,CAAC,KAAK;YAC/B,WAAW,EAAE,iBAAiB,CAAC,WAAW;YAC1C,SAAS,EAAE,6CAA6C,EAAE,wBAAwB;YAClF,SAAS,EAAE,4BAA4B,EAAE,sBAAsB;SAChE,CAAC;QAEF,MAAM,WAAW,GAAG,MAAM,KAAK,CAAC,iBAAiB,CAAC,UAAU,CAAC,CAAC;QAC9D,OAAO,WAAW,CAAC,WAAW,CAAC;IACjC,CAAC;CACF,CAAA;AApBY,wCAAc;yBAAd,cAAc;IAD1B,IAAA,mBAAU,GAAE;6CAGqB,sCAAiB;GAFtC,cAAc,CAoB1B","names":[],"sources":["E:\\FPTU\\SUMMER2025_FPT\\EXE201\\mahika-website-be\\src\\api\\payment\\payment.servicee.ts"],"sourcesContent":["import { Injectable } from \"@nestjs/common\";\r\nimport { PaymentRepository } from \"./payment.repository\";\r\nimport { PaymentRequestDTO } from \"@/common/dto/payment-request.dto\";\r\nimport PayOS from '@payos/node';\r\n\r\n@Injectable()\r\nexport class PaymentService {\r\n\r\n  constructor(public paymentRepo: PaymentRepository) {}\r\n\r\n  async createPayment(paymentRequestDTO: PaymentRequestDTO) {\r\n   \r\n    // import client id, apiKey and checkSumKey here\r\n    const payOS = new PayOS('client-id', 'api-key','checksum-key');\r\n\r\n    const orderPayOS = {\r\n      orderCode: 123,\r\n      amount: paymentRequestDTO.price,\r\n      description: paymentRequestDTO.description,\r\n      returnUrl: 'https://www.youtube.com/watch?v=a_kq2ueesoc', // thanh toán thành công\r\n      cancelUrl: 'https://example.com/cancel', // thanh toán thất bại\r\n    };\r\n\r\n    const paymentLink = await payOS.createPaymentLink(orderPayOS);\r\n    return paymentLink.checkoutUrl; \r\n  }\r\n}"],"version":3}